{"version":3,"sources":["ui_lib.js"],"names":["E","api","plus_ref","be_vpn_util","perr","opt","be_popup_lib","window","popup_main","perr_ok","LONG_CB_MS","PureComponent","timers","events","t0","Date","now","a","Object","keys","forEach","clear_timer","name","off","event","_componentWillUnmount","t1","zerr","warn","displayName","sp","return","task","_pure_component_etask","wait","spawn","cb","ms","timer","setTimeout","on_timer","t","clearTimeout","e","obj","_this","cb2","ret","apply","arguments","push","on","undefined","assign","ee","Error","i","findIndex","splice","length","React","T","props","children","replace","Array","isArray","str","v","translated","join","split","map","m","match","console","error","set_api","_api","IF","s","Tooltip","position","icon_cls","icon_div_cls","classes","title","Upgrade_link","state","on_change","o","user_status","is_member","get","is_pending","is_paid","setState","onClick","ui_popup","open_page","root_url","c","Footer_item","class_a","id","type","href","str_h2","str_p","str_msg","Footer","be_premium","ecall","is_premium","need_exe","be_util","os_mac","Main_switch","onMouseLeave","inside","value","call","ref","is_protect","is_mitm","is_protect_pc","is_protect_browser","country","zcountry","code2label","src_country","flag_country","tooltip_opts","tooltip","onMouseEnter","render_tooltip","format_time","sec","Math","floor","hours","mins","Trial_timer","timer_tick","trial_left","get_trial_left","date","SEC","trial","max","expire_ts","Popular_view_item","img_show","on_load","img_error","on_error","on_click","p","is_mac","B","os","is_popular_page","set_active_url","perr_event","info","unblock_attempt_url","tabs","create","url","get_popular_url","active","cls","is_ps","cls_i","display","zurl","add_proto","Popular_view","list","update_list","root_urls","ignore_install_version","list_ps","site_conf","get_site_conf","be_ext","zutil","on_focus","get_root","get_url","on_key_press","key","on_search","preventDefault","target","search","err","is_valid_url","parse","hostname","get_root_domain","skip_url","ignore_curr_url","Stub_unblock","is_google","link","unmountComponentAtNode","node","ReactDOM","render_main_switch","root","render","render_footer","render_upgrade_link","render_trial_timer","render_popular_view","render_stub_unblock"],"mappings":"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","file":"ui_lib.js","sourcesContent":["                   \n'use strict';                                              \nimport 'regenerator-runtime';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport classnames from 'classnames';\nimport zurl from '/util/url.js';\nimport zutil from '/util/util.js';\nimport zerr from '/util/zerr.js';\nimport date from '/util/date.js';\nimport T from '/bext/pub/locale.js';\nimport etask from '/util/etask.js';\nimport B from '/bext/pub/browser.js';\nimport be_vpn_util from '/bext/vpn/pub/util.js';\nimport be_util from '/bext/pub/util.js';\nimport zcountry from '/util/country.js';\n\nconst E = {};\nlet api;\nlet plus_ref = be_vpn_util.plus_ref;\n\nfunction perr(opt){\n    const be_popup_lib = window.popup_main && window.popup_main.be_popup_lib;\n    return be_popup_lib.perr_ok(opt);\n}\n\nconst LONG_CB_MS = 500;\nconst PureComponent = class PureComponent extends React.PureComponent {\n    timers = {};\n    events = {};\n    componentWillUnmount(){\n        let t0 = Date.now();\n        let a = Object.keys(this.timers);\n        a.forEach(name=>this.clear_timer(name));\n        a = Object.keys(this.events);\n        a.forEach(event=>this.off(event));\n        if (this._componentWillUnmount)\n            this._componentWillUnmount();\n        let t1 = Date.now();\n        if (t1-t0 > LONG_CB_MS)\n        {\n            zerr.warn('long cb componentWillUnmount %s took %sms',\n                this.displayName, t1-t0);\n        }\n        if (this.sp)\n        {\n            this.sp.return();\n            delete this.sp;\n        }\n    }\n    etask(task){\n        this.sp = this.sp || etask('Component_'+this.displayName,\n            function*_pure_component_etask(){ yield this.wait(); });\n        this.sp.spawn(task);\n        return task;\n    }\n             \n    has_timer(name){ return !!this.timers[name]; }\n    set_timer(name, cb, ms){\n        this.clear_timer(name);\n        this.timers[name] = {cb: cb, ms: ms,\n            timer: setTimeout(()=>{ this.on_timer(name); }, ms)};\n    }\n    clear_timer(name){\n        let t = this.timers[name];\n        if (!t)\n            return;\n        clearTimeout(t.timer);\n        delete this.timers[name];\n    }\n    on_timer(name){\n        let t = this.timers[name];\n        if (!t)\n            return zerr('timer not found %s', name);\n                                                           \n        try {\n            let t0 = Date.now();\n            t.cb();\n            let t1 = Date.now();\n            if (t1-t0 > LONG_CB_MS)\n            {\n                zerr.warn('long cb timer %s:%s took %sms',\n                    this.displayName, name, t1-t0);\n            }\n        } catch(e){ zerr('timer %s error %s', name, e); }\n        this.clear_timer(name);\n    }\n            \n    on(obj, event, cb){\n        let _this = this;\n        this.off(obj, event, cb);\n        let e = this.events[event] = this.events[event]||{a: []};\n        let cb2 = function(){\n                                      \n            let t0 = Date.now();\n            let ret = cb.apply(this, arguments);\n            let t1 = Date.now();\n            if (t1-t0 > LONG_CB_MS)\n            {\n                zerr.warn('long cb event %s:%s took %sms', _this.displayName,\n                    event, t1-t0);\n            }\n            return ret;\n        };\n        e.a.push({obj: obj, cb: cb, cb2: cb2});\n        obj.on(event, cb2);\n    }\n    off(obj, event, cb){\n        if (event===undefined && cb===undefined)\n        {\n            event = obj;\n            let e = this.events[event];\n            if (!e)\n                return;\n            let a = Object.assign([], e.a);\n            return a.forEach(ee=>this.off(ee.obj, event, ee.cb));\n        }\n        if (event==undefined || cb===undefined)\n            throw new Error('invalid off params');\n        let e = this.events[event];\n        if (!e)\n            return;\n        let i = e.a.findIndex(ee=>ee.cb===cb && ee.obj===obj);\n        if (i==-1)\n            return;\n        let ee = e.a.splice(i, 1)[0];\n        ee.obj.off(event, ee.cb2);\n        if (!e.a.length)\n            delete this.events[event];\n    }\n};\n\n         \n                   \n                 \n                               \nE.T = props=>{\n    if (typeof props=='string')\n        return T(props);\n    const {children} = props;\n    if (typeof children=='string')\n        return T(children.replace(/\\s+/g, ' '));\n    if (Array.isArray(children))\n    {\n        let obj = [], str = [];\n        for (let v of children)\n        {\n            if (typeof v=='string')\n                str.push(v);\n            else\n            {\n                obj.push(v);\n                str.push('$'+obj.length);\n            }\n        }\n        let translated = T(str.join('')).split(/(\\$\\d+)/);\n        return translated.map(v=>{\n            let m = v.match(/\\$(\\d+)/);\n            return m ? obj[m[1]-1] : v;\n        });\n    }\n    console.error('<T> must receive text to translate. Received: ', children);\n    return null;\n};\n\nE.set_api = function(_api){ E.api = api = _api; };\n\nfunction IF(s){ return s||undefined; }\n\nfunction Tooltip(props){\n    let {position = 'top', icon_cls, icon_div_cls} = props;\n    let classes = ['popup-tooltip', `popup-tooltip-${position}`];\n    return <div className={classnames(classes)}>\n      <div className='header'>\n        <div className={icon_div_cls||'f32'}>\n          <i className={icon_cls}></i>\n        </div>\n        <h2>{props.title}</h2>\n      </div>\n      <div className='body'>\n        {props.children}\n      </div>\n    </div>;\n}\n\nclass Upgrade_link extends PureComponent {\n    state = {};\n    componentDidMount(){\n                                                                         \n                                                                          \n                                                                   \n        this.on(this.props.user_status, 'change', this.on_change);\n        this.on_change();\n    }\n    on_change = ()=>{\n        let o = this.props.user_status;\n        let is_member = o.get('is_member');\n        let is_pending = o.get('is_pending');\n        let is_paid = o.get('is_paid');\n        this.setState({is_member, is_pending, is_paid});\n    };\n    onClick = ()=>api.ui_popup.open_page(\n        plus_ref('ext_upgrade2', {root_url: this.props.root_url}));\n    render(){\n        let {is_paid, is_pending, is_member} = this.state;\n        if (is_member || is_pending || is_member&&is_paid)\n            return <div/>;\n        let c = is_paid ? 'renew' : 'upgrade';\n        let s = is_paid ? T('Renew') : T('Upgrade');\n        return <div className='upgrade-link'>\n          <a className={c} onClick={this.onClick}>{s}</a>\n        </div>;\n    }\n}\n\nclass Footer_item extends PureComponent {\n    render(){\n        let {href, class_a, str_h2, str_p, str_msg} = this.props;\n        return <a href={href} className={class_a} target='_blank'\n          rel='noopener noreferrer'>\n          <div className='wrapper'>\n            {str_msg}\n            <i className='icon'></i>\n          </div>\n          <Tooltip title={str_h2}><p>{str_p}</p></Tooltip>\n        </a>;\n    }\n    onClick = e=>{\n        let {class_a} = this.props;\n        perr({id: 'be_ui_vpn_click_ext_promo', type: class_a});\n        return true;\n    };\n}\n\nclass Footer extends PureComponent {\n    state = {};\n    componentDidMount(){\n        let _this = this;\n        let {be_premium} = api;\n        return etask([function(){\n            return be_premium ? be_premium.ecall('is_active') : null;\n        }, function(is_premium){ _this.setState({is_premium});\n        }]);\n    }\n    render(){\n        let {is_premium} = this.state;\n        let need_exe = be_util.os_mac() ? 'mac' : 'win';\n        let s = ['more-from-hola', is_premium && 'more-from-hola-premium'];\n        return <div className={classnames(s)}>\n          <div className='more-from-hola-items'>\n            <Footer_item href='https://play.google.com/store/apps/details?id=org.hola&referrer=utm_source%3Dholaext' class_a='more-android'\n              str_h2='Hola VPN on Android' str_p='Unblock any website or app'/>\n            <Footer_item href='https://itunes.apple.com/il/app/hola-privacy-vpn/id903869356?mt=8' class_a='more-ios' str_h2='Hola VPN on iOS'\n              str_p='Unblock any website or app'/>\n            {IF(need_exe=='win')&&\n            <Footer_item href='https://hola.org/downloads' class_a='more-win'\n              str_h2='Hola VPN on Windows'\n              str_p='Unblock any website or app'/>}\n            {IF(need_exe=='mac')&&\n            <Footer_item href='https://hola.org/downloads' class_a='more-mac'\n              str_h2='Hola VPN on macOS' str_p='Unblock any website or app'/>}\n            {IF(is_premium)&&\n            <Footer_item href='http://hola.org/accelerator?utm_source=holaext'\n              class_a='more-va' str_h2='Accelerator'\n              str_p='Stream videos faster'/>}\n            {IF(is_premium)&&\n            <Footer_item href='https://hola.org/adblocker?utm_source=holaext'\n              class_a='more-ab' str_h2='Ad remover'\n              str_p='Block annoying ads, malware and tracking'/>}\n            {IF(!is_premium)&&\n            <Footer_item href={plus_ref('ext_more_by_hola',\n                {root_url: this.props.root_url})}\n              class_a='more-premium' str_h2='Hola VPN PLUS'\n              str_p='Try out Hola VPN PLUS' str_msg='Upgrade to'/>}\n          </div>\n        </div>;\n    }\n}\n\nclass Main_switch extends PureComponent {\n    state = {};\n    componentDidMount(){ this.setState({value: !!this.props.value}); }\n    render_tooltip({is_protect}){\n        let {root_url, value, is_mitm, is_protect_pc,\n            is_protect_browser} = this.props;\n        let country = zcountry.code2label(this.props.country || '');\n        let src_country = zcountry.code2label(this.props.src_country || '');\n        let flag_country = !is_mitm && !is_protect;\n        let tooltip_opts = {\n            position: 'bottom',\n            icon_div_cls: flag_country ? 'fsvg_4x3' : 'f32',\n            icon_cls: classnames('flag', this.props.country, {\n                'flag-country': flag_country,\n                'flag-unblock': is_mitm,\n                'flag-protect': is_protect,\n            }),\n        };\n        if (is_protect)\n        {\n            if (is_protect_pc)\n            {\n                return <Tooltip {...tooltip_opts}\n                  title={<span>All your PC traffic is secured</span>}>\n                  <p>Click to stop protecting your PC traffic</p>\n                </Tooltip>;\n            }\n            if (is_protect_browser)\n            {\n                return <Tooltip {...tooltip_opts}\n                  title={<span>All your browser traffic is secured</span>}>\n                  <p>Click to stop protecting your browser traffic</p>\n                </Tooltip>;\n            }\n            if (value)\n            {\n                return <Tooltip {...tooltip_opts}\n                  title={<span>Your connection with <b>{root_url}</b> is\n                    secured</span>}>\n                  <p>Click to stop protecting your connection\n                    with <b>{root_url}</b></p>\n                </Tooltip>;\n            }\n            return <Tooltip {...tooltip_opts}\n              title={<span>Secure your connection</span>}>\n              <p>Click to encrypt and protect all your traffic\n                with <b>{root_url}</b></p>\n            </Tooltip>;\n        }\n        if (is_mitm)\n        {\n            if (value)\n            {\n                return <Tooltip {...tooltip_opts}\n                  title={<span><b>{root_url}</b> is unblocked</span>}>\n                  <p>Click to stop VPN and stop unblocking {' '}\n                      <b>{root_url}</b></p>\n                </Tooltip>;\n            }\n            return <Tooltip {...tooltip_opts}\n              title={<span><b>{root_url}</b> is blocked by your\n                country</span>}>\n              <p>Click to start VPN for <b>{root_url}</b> and unblock\n                it</p>\n            </Tooltip>;\n        }\n        if (value)\n        {\n            return <Tooltip {...tooltip_opts}\n              title={<span><b>{root_url}</b> country is {country}</span>}>\n              <p>Click to stop VPN for <b>{root_url}</b> and change\n                country back to {src_country}</p>\n            </Tooltip>;\n        }\n        return <Tooltip {...tooltip_opts}\n          title={<span>Change country to {country}</span>}>\n          <p>Click to start VPN for <b>{root_url}</b> and change\n            country to {country}</p>\n        </Tooltip>;\n    }\n    render(){\n        let {inside} = this.state;\n        let {type = 'unblock', tooltip, value} = this.props;\n        let s = classnames({[`${type}-switch`]: 1, active: value, inside});\n        let is_protect = type=='protect';\n        return <div className='main-switch'>\n          <div className={s} onClick={this.onClick}\n            onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n            {is_protect ? T('Protect') : T('Unblock')}\n          </div>\n          {!!tooltip && this.render_tooltip({is_protect})}\n        </div>;\n    }\n    onMouseLeave = e=>this.setState({inside: false});\n    onClick = e=>{\n        let value = !this.props.value;\n        this.setState({inside: true});\n        if (this.props.onClick)\n        {\n            this.props.onClick.call(this, {type: 'hola', event: e, value,\n                ref: this});\n        }\n    };\n}\n\nE.format_time = ms=>{\n    let sec = Math.floor(ms/1000);\n    let hours = Math.floor(sec/(60*60));\n    sec -= hours*60*60;\n    let mins = Math.floor(sec/60);\n    sec -= mins*60;\n    return (hours ? hours+'h ' : '')+mins+'m '+sec+'s';\n};\n\nclass Trial_timer extends PureComponent {\n    constructor(props){\n        super(props);\n        this.state = {trial_left: this.get_trial_left()};\n        this.timer_tick();\n    }\n    componentWillUnmount(){\n        if (this.timer)\n            this.timer = clearTimeout(this.timer);\n    }\n    get_trial_left(){\n        let trial = this.props.trial;\n        return trial ? Math.max(trial.expire_ts-Date.now(), 0) : 0;\n    }\n    timer_tick = ()=>{\n        let trial_left = this.get_trial_left();\n        this.setState({trial_left});\n        this.timer = trial_left>0 ? setTimeout(this.timer_tick, date.ms.SEC) :\n            null;\n    };\n    render(){\n        let {state, props} = this;\n        if (!state.trial_left)\n            return null;\n        let ref = 'trial_timer_'+props.root_url.replace(/\\./g, '_');\n        return [\n          <a className=\"trial-timer\" target='_blank' rel='noopener noreferrer'\n            href={plus_ref(ref, {root_url: props.root_url})} key=\"timer\">\n            {E.format_time(state.trial_left)}\n          </a>,\n          <Tooltip position=\"bottom\" title=\"Upgrade to PLUS now!\"\n            key=\"tooltip\">\n            <p>Get unlimited unblocking time for {props.root_url}.</p>\n          </Tooltip>\n        ];\n    }\n}\n\nclass Popular_view_item extends React.PureComponent {\n    state = {img_show: false};\n    on_load = ()=>this.setState({img_show: true, img_error: false});\n    on_error = ()=>this.setState({img_error: true});\n    on_click = ()=>{\n        let p = this.props;\n        let is_mac = B.os == 'macos';\n        if (!is_mac || !api.is_popular_page())\n            return api.set_active_url(p.root_url);\n        api.perr_event('popular_unblock_attempt', {\n            info: {unblock_attempt_url: p.root_url}\n        });\n        return B.tabs.create({url: api.get_popular_url(), active: true});\n    };\n    render(){\n        let p = this.props;\n        let {state} = this;\n        let cls = classnames('popup-popular-item',\n            p.is_ps ? 'premium-site' : 'free-site');\n        let cls_i = classnames('popup-popular-item-image',\n            'icon-'+p.root_url.replace(/\\./g, '-'),\n            {'icon-error': state.img_error});\n        return <div title={p.root_url} className={cls} onClick={this.on_click}>\n          <i className={cls_i}>\n            <img className='popup-popular-item-icon'\n              style={{display: !state.img_show && 'none'}}\n              onLoad={this.on_load} onError={this.on_error}\n              src={zurl.add_proto(p.root_url)+'/favicon.ico'}/>\n          </i>\n          <span className='popup-popular-item-name'>{p.root_url}</span>\n        </div>;\n    }\n}\n\nclass Popular_view extends PureComponent {\n    state = {list: []};\n    componentDidMount(){\n        this.on(api, 'change:unblocking_rate', this.update_list);\n        this.update_list();\n        perr({id: 'be_ui_popular_view', info: {root_url: api.get_root(),\n            url: api.get_url()}});\n    }\n    update_list = ()=>{\n        let _this = this;\n        etask(function*(){\n            let list = api.get('unblocking_rate')||[];\n            let root_urls = list.map(p=>p.root_url);\n            let list_ps = yield api.be_premium.ecall('get_force_premium_rules',\n                [root_urls, {ignore_install_version: true}]);\n            list = list.map((p, i)=>{\n                let site_conf = be_util.get_site_conf(api.be_ext, p.root_url);\n                return {...p,\n                    is_ps: zutil.get(site_conf, 'require_plus') || list_ps[i]};\n            });\n            _this.setState({list});\n        });\n    };\n    on_focus = ()=>{\n        perr({id: 'be_ui_popular_input_focus', info: {\n            root_url: api.get_root(), url: api.get_url()}});\n    };\n    on_key_press = e=>{\n        if (e.key!='Enter')\n            return;\n        this.on_search();\n    };\n    on_change = e=>{\n        e.preventDefault();\n        this.setState({[e.target.name]: e.target.value, error: false});\n    };\n    on_search = e=>{\n        e && e.preventDefault();\n        let {search} = this.state;\n        let err, root_url;\n        try {\n            if (!zurl.is_valid_url(search) && (err = 'valid_url'))\n                return this.setState({error: true});\n            let {hostname, href} = zurl.parse(search);\n            root_url = zurl.get_root_domain(hostname);\n            if (!root_url && (err = 'no_root_url'))\n                return this.setState({error: true});\n            if (api.skip_url({url: href, ignore_curr_url: true}) &&\n               (err = 'skip_url'))\n            {\n                return this.setState({error: true});\n            }\n        } finally {\n            perr({id: 'be_ui_popular_click_go', info: {\n                root_url: api.get_root(), url: api.get_url(), search, err}});\n        }\n        api.set_active_url(root_url);\n    };\n    render(){\n        let {list, error} = this.state;\n        return <div className='popular-view'>\n          <div className='search-field'>\n            <input type='text' name='search' onFocus={this.on_focus}\n              placeholder={T('Enter site to unblock')}\n              onKeyPress={this.on_key_press} onChange={this.on_change}/>\n            <button onClick={this.on_search}/>\n            {error && <div className='error'>\n              Enter a valid site or url (eg. netflix.com)\n            </div>}\n          </div>\n          <div className='popup-popular-list'>\n            {list.map(p=><Popular_view_item key={p.root_url} {...p}/>)}\n          </div>\n          <div className='popular-view-footer'>\n            <a href={api.get_popular_url()} target='_blank'\n              rel='noopener noreferrer'>\n              More sites in your country...\n            </a>\n          </div>\n        </div>;\n    }\n}\n\nclass Stub_unblock extends PureComponent {\n    render(){\n        let {root_url} = this.props;\n        if (api.be_ext.get('is_premium') || !be_util.is_google(root_url))\n            return null;\n        let link = plus_ref('stub_unblock', {root_url});\n        return <div className='stub-unblock'>\n          To change IP for <b>{root_url}</b>, upgrade\n          to <a rel='noopener noreferrer' target='_blank' href={link}>PLUS</a>\n        </div>;\n    }\n}\n\nE.unmountComponentAtNode = function(node){\n    ReactDOM.unmountComponentAtNode(node); };\n\nE.render_main_switch = function(root, opt={}){\n    ReactDOM.render(<Main_switch {...opt}/>, root);\n};\n\nE.render_footer = function(root, opt={}){\n    ReactDOM.render(<Footer {...opt}/>, root); };\n\nE.render_upgrade_link = function(root, opt={}){\n    ReactDOM.render(<Upgrade_link {...opt}/>, root); };\n\nE.render_trial_timer = function(root, opt={}){\n    ReactDOM.render(<Trial_timer {...opt}/>, root); };\n\nE.render_popular_view = function(root, opt={}){\n    ReactDOM.render(<Popular_view {...opt}/>, root); };\n\nE.render_stub_unblock = function(root, opt={}){\n    ReactDOM.render(<Stub_unblock {...opt}/>, root); };\n\nexport default E;\n"]}